# `dicrease_number_of_MI_iterations.py`

![Python](https://img.shields.io/badge/python-3.x-blue.svg)
![License](https://img.shields.io/badge/license-GPL--3.0-blue)

ðŸ”— [`dicrease_number_of_MI_iterations.py`](./dicrease_number_of_MI_iterations.py)

**Version:** 1.0  
**Author:** Rafael Nafikov  
**Date:** 2025-06-27

---

## Table of Contents
- [Folder Structure](#folder-structure)
- [Overview](#overview)
- [Requirements](#requirements)
- [Usage](#usage)
- [Arguments](#arguments)
- [Input Files](#input-files)
- [Output Files](#output-files)
- [Example](#example)
- [License](#license)
- [Support](#support)

---

## Folder Structure

```
dicrease_number_of_MI_iterations/
â”œâ”€â”€ dicrease_number_of_MI_iterations.py
â”œâ”€â”€ input_files
â”‚Â Â  â””â”€â”€ chr16_ped52_5000_iterations.mi
â”œâ”€â”€ output_files
â”‚Â Â  â”œâ”€â”€ dicrease_number_of_MI_iterations.log
â”‚Â Â  â””â”€â”€ selected_1000_blocks_every_5_th_block.mi
â””â”€â”€ README.md
```

3 directories, 5 files

---

## Overview

`decrease_number_of_MI_iterations.py` is a Python utility designed to decrease the number of iterations of Meiosis Indicators (MI) in the MI input file for use in HaploGI runs. During runtime, the user will be prompted to specify how many MI iterations to retain in the output MI file. This step is needed to reduce the computational burden on HaploGI, as retaining only 1000 MI iterations is enough to produce good results during HaploGI runs.

---

## Requirements

- Python 3.x  
- No external dependencies (standard library only)

---

## Usage

Run the script from the command line with the required inputs:

```bash
python dicrease_number_of_MI_iterations.py --MI matrix.txt \
                                          [--output_dir results]
```
 
---

## Arguments

| Argument     | Required | Description                                          |
|--------------|----------|------------------------------------------------------|
| `--MI`       | Yes      | Path to the Meiosis I ndicators (MI) file                           |
| `--output_dir`| No      | Directory to save the output files. Default is `results` |

---

## Input Files

### ðŸ”· `chr16_ped52_5000_iterations.mi`

The **meiosis indicators file** is generated by the `gl_auto` program from the [Morgan package](https://faculty.washington.edu/eathomp/Genepi/MORGAN/Morgan.shtml).  
It follows the same format as described in the official Morgan package manual.

> **Note**: This file encodes inheritance information and is used in downstream linkage and haplotype analyses.

ðŸ””  This script includes interactive prompts that will appear during execution to let the user specify how many MI iterations to retain in the output **meiosis indicators file**.

---

## Output Files

### ðŸŸ¢ `selected_1000_blocks_every_5_th_block.mi`

This **meiosis indicators file** is the same as the one used as input file but only contains a smaller number of MI iterations, which is specified by the user during runtime.

### ðŸŸ¢ `decrease_number_of_MI_iterations.log`

A log summary of the processing steps, including any warnings and errors encountered during execution.

---

## Example

Unzip the `input_files` directory before running the script. Use the included example inputs to run:

```bash
python dicrease_number_of_MI_iterations.py --MI ./input_files/chr16_ped52_5000_iterations.mi \
                                           --output_dir ./output_files_test
```

ðŸ“Œ Note: If you specify `--output_dir`, make sure that directory exists before running the script:
```bash
 mkdir -p ./output_files_test
```

---

## License

This project is licensed under the **GNU General Public License v3.0 or later** (`GPL-3.0-or-later`).  
It uses the SPDX license identifier `GPL-3.0-or-later` in source files for standardized license declaration.

You can view the full license text at:  
https://www.gnu.org/licenses/gpl-3.0.html

Unless required by applicable law or agreed to in writing, the software is distributed  
**"AS IS"**, without warranties or conditions of any kind, either express or implied.

See the [LICENSE](./LICENSE) file in this repository for complete details.

---

## Support

For questions, bug reports, or suggestions, please contact:  
ðŸ“§ nrafscience@gmail.com  
ðŸ”— [GitHub Issues](https://github.com/RafPrograms/HaploGI/issues)

