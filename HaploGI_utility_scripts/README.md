# `HaploGI_utility_scripts`

![Python](https://img.shields.io/badge/python-3.x-blue.svg)

**Author:** Rafael Nafikov  
**Date:** 2025-07-07

------------------------------------------------------------------------

## Contents
- [Folder Structure](#folder-structure)
- [Introduction](#introduction)
- [Software URL](#software-url)
- [License](#license)
- [Support](#support)

------------------------------------------------------------------------

## Folder Structure

```
HaploGI_utility_scripts/
├── input_files_preparation
│   ├── dicrease_number_of_MI_iterations
│   └── prepare_genotype_file
├── output_files_processing
│   ├── create_genomic_windows_file
│   ├── phased_genotypes_to_VCF
│   ├── plot_haplotype_sharing
│   ├── risk_haplotype_sequence_to_VCF
│   └── variants_with_alleles_unique_to_risk_haplotype
└── README.md

```

---

## Introduction

**HaploGI_utility_scripts** is a collection of Python scripts designed to assist in preparing inputs, processing outputs, and visualizing results for **HaploGI** — a tool for evaluating shared haplotypes among affected individuals in genetic studies.

These utilities streamline data handling for both upstream preprocessing and downstream interpretation of HaploGI results.

---

## Software URL

### 🔷 Input Preparation

1. [dicrease_number_of_MI_iterations.py](https://github.com/RafPrograms/HaploGI/tree/main/HaploGI_utility_scripts/input_files_preparation/dicrease_number_of_MI_iterations)

Reduces the number of MI (Meiosis Indicator) iterations in files generated by the Morgan package.
By default, Morgan outputs more MI iterations than necessary for accurate HaploGI runs. Reducing this to ~1000 iterations helps minimize memory and runtime burden.

2. [prepare_genotype_file.py](https://github.com/RafPrograms/HaploGI/tree/main/HaploGI_utility_scripts/input_files_preparation/prepare_genotype_file)

Generates the SNV genotype file required for HaploGI using a `.vcf` or `.vcf.gz` file as input.
The input VCF should include genotypes for only the samples used in the HaploGI analysis.

### 🔷 Output Processing

3. [create_genomic_windows.py](https://github.com/RafPrograms/HaploGI/tree/main/HaploGI_utility_scripts/output_files_processing/create_genomic_windows_file)

Creates a genomic windows file for reference, based on SNV positions.
This helps interpret and navigate HaploGI output by organizing data into consistent blocks.

4. [create_phased_vcf.py](https://github.com/RafPrograms/HaploGI/tree/main/HaploGI_utility_scripts/output_files_processing/phased_genotypes_to_VCF)

Converts phased genotype output from HaploGI into VCF format, enabling compatibility with other downstream tools.

5. [plot_haplotype_sharing.py](https://github.com/RafPrograms/HaploGI/tree/main/HaploGI_utility_scripts/output_files_processing/plot_haplotype_sharing)

Visualizes haplotype sharing results from HaploGI, helping to determine the presence and extent of a shared (risk) haplotype.

6. [risk_haplotype_sequence_vcf.py](https://github.com/RafPrograms/HaploGI/tree/main/HaploGI_utility_scripts/output_files_processing/risk_haplotype_sequence_to_VCF)

Converts risk haplotype sequences into standard VCF format, making them easier to examine or use in other genetic analyses.

7. [risk_alleles_variants.py](https://github.com/RafPrograms/HaploGI/tree/main/HaploGI_utility_scripts/output_files_processing/variants_with_alleles_unique_to_risk_haplotype)

Identifies variants with alleles unique to the risk haplotype.
Outputs metadata-rich variant tables by combining data from the original VCF file and HaploGI results.

------------------------------------------------------------------------

## License

This project is licensed under the GNU General Public License v3.0 or later (GPL-3.0-or-later).
The source code includes the SPDX identifier GPL-3.0-or-later for standardized license declaration.

📜 View the full license text: https://www.gnu.org/licenses/gpl-3.0.html

Unless required by applicable law or agreed to in writing, the software is distributed
“AS IS”, without warranties or conditions of any kind.

---

## Support

If you encounter issues or have questions, feel free to reach out:

📧 Email: nrafscience@gmail.com
🐛 Report Issues: GitHub Issues

